"use strict";(self.webpackChunkHotelManagement_Admin=self.webpackChunkHotelManagement_Admin||[]).push([[196],{1196:(mt,A,g)=>{g.r(A),g.d(A,{HotelManageModule:()=>pt});var q=g(4581),t=g(5879),Z=g(4104),_=g(5861),u=g(7700),l=g(6223),v=g(4994),M=g(2226),P=g(9947),y=g(9862);let C=(()=>{class i{constructor(n){this.http=n,this.apiUrl=P.N.url}getAllReservation(){return this.http.get(`${this.apiUrl}/Reservation`)}getNumberReservation(n){return this.http.get(`${this.apiUrl}/ReservationRoom/GetReservationsByReservationID?id=${n}`)}checkIn(n){return this.http.get(`${this.apiUrl}/Reservation/CheckIn?IDReservation=${n}`)}getReservationByRoomId(n){return this.http.get(`${this.apiUrl}/Reservation/GetReservationByRoom?IDRoom=${n}`)}checkOut(n){return this.http.get(`${this.apiUrl}/Reservation/CheckOut?IDReservation=${n}`)}Book(n){return this.http.post(`${this.apiUrl}/Reservation/NewReserveRooms`,n)}Cancel(n){return this.http.get(`${this.apiUrl}/Reservation/Cancel?IDReservation=${n}`)}static#t=this.\u0275fac=function(o){return new(o||i)(t.LFG(y.eN))};static#n=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var U=g(1109),T=g(1420),p=g(6814),b=g(1545);function B(i,s){1&i&&t._uU(0,"Ch\u1ecdn ph\xf2ng")}const N=function(i){return{"phong text-center p-1":!0,selected:i}};function I(i,s){if(1&i&&(t.TgZ(0,"div",21)(1,"div",22)(2,"p"),t._uU(3),t.qZA()()()),2&i){const n=s.$implicit;t.xp6(1),t.Q6J("ngClass",t.VKq(2,N,n.isReserved)),t.xp6(2),t.Oqu(n.roomNumber)}}function F(i,s){if(1&i&&(t.TgZ(0,"div")(1,"div",19),t._uU(2),t.qZA(),t.TgZ(3,"div",9),t.YNc(4,I,4,4,"div",20),t.qZA()()),2&i){const n=s.$implicit;t.xp6(2),t.Oqu(n.roomType.name),t.xp6(2),t.Q6J("ngForOf",n.rooms)}}function S(i,s){1&i&&t._uU(0,"Ho\xe0n th\xe0nh")}let E=(()=>{class i{constructor(n,o,e,r,a,c,m,d){this.fb=n,this.dialogRef=o,this.roomTypeService=e,this.roomService=r,this.reservationService=a,this.guestService=c,this.snkbr=m,this.data=d,this.roomsByRoomType=[]}ngOnInit(){var n=this;return(0,_.Z)(function*(){let o=yield n.roomTypeService.getAllRoomTypes().toPromise();n.reservationService.getNumberReservation(n.data.id).subscribe(function(){var e=(0,_.Z)(function*(r){n.number=r.length;for(let a of o){let c=yield n.roomService.getRoomsByRoomTypeId(a.roomTypeID).toPromise();for(let d of c){d.isReserved=!1;for(let f of r)d.roomID===f.roomID&&(d.isReserved=!0)}let m={roomType:a,rooms:c};n.roomsByRoomType?.push(m)}});return function(r){return e.apply(this,arguments)}}()),n.guestService.getGuestById(n.data.idGuest).subscribe(e=>{n.guest=e,console.log(e)})})()}onNoClick(){this.dialogRef.close()}checkIn(){this.reservationService.checkIn(this.data.id).subscribe(n=>{this.snkbr.openSnackBar("Check in successfully","success"),this.onNoClick()})}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(l.qu),t.Y36(u.so),t.Y36(v.x),t.Y36(M.X),t.Y36(C),t.Y36(U.Q),t.Y36(T.o),t.Y36(u.WI))};static#n=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-checkin"]],decls:43,vars:6,consts:[[1,"container"],[1,"modal-header"],["mat-dialog-title",""],["type","button",1,"btn-close",3,"click"],[3,"linear"],["stepper",""],["matStepLabel",""],["mat-button","","matStepperNext",""],[1,"container","mt-5"],[1,"row"],[4,"ngFor","ngForOf"],["label","X\xe1c th\u1ef1c th\xf4ng tin"],[1,"mb-3"],["for","name",1,"form-label"],["type","text","disabled","",1,"form-control",3,"value"],["for","cccd",1,"form-label"],["for","phone",1,"form-label"],["mat-button","","matStepperPrevious",""],["mat-button","",3,"click"],[1,"title","my-3"],["class","col-2 p-1 mb-4",4,"ngFor","ngForOf"],[1,"col-2","p-1","mb-4"],[3,"ngClass"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),t._uU(3,"Check-in"),t.qZA(),t.TgZ(4,"button",3),t.NdJ("click",function(){return e.onNoClick()}),t.qZA()(),t.TgZ(5,"mat-stepper",4,5)(7,"mat-step"),t.YNc(8,B,1,0,"ng-template",6),t.TgZ(9,"div",1)(10,"label"),t._uU(11),t.qZA(),t.TgZ(12,"button",7),t._uU(13,"Next"),t.qZA()(),t.TgZ(14,"div",8)(15,"div",9),t.YNc(16,F,5,2,"div",10),t.qZA()()(),t.TgZ(17,"mat-step",11)(18,"form")(19,"div",12)(20,"label",13),t._uU(21,"Name"),t.qZA(),t._UZ(22,"input",14),t.qZA(),t.TgZ(23,"div",12)(24,"label",15),t._uU(25,"Email"),t.qZA(),t._UZ(26,"input",14),t.qZA(),t.TgZ(27,"div",12)(28,"label",16),t._uU(29,"Phone"),t.qZA(),t._UZ(30,"input",14),t.qZA(),t.TgZ(31,"div")(32,"button",17),t._uU(33,"Back"),t.qZA(),t.TgZ(34,"button",7),t._uU(35,"Next"),t.qZA()()()(),t.TgZ(36,"mat-step"),t.YNc(37,S,1,0,"ng-template",6),t.TgZ(38,"p"),t._uU(39,"X\xe1c nh\u1eadn check-in"),t.qZA(),t.TgZ(40,"div")(41,"button",18),t.NdJ("click",function(){return e.checkIn()}),t._uU(42,"Check-in"),t.qZA()()()()()),2&o&&(t.xp6(5),t.Q6J("linear",!0),t.xp6(6),t.hij("S\u1ed1 l\u01b0\u1ee3ng ph\xf2ng: ",e.number,""),t.xp6(5),t.Q6J("ngForOf",e.roomsByRoomType),t.xp6(6),t.s9C("value",null==e.guest?null:e.guest.fullName),t.xp6(4),t.s9C("value",null==e.guest?null:e.guest.email),t.xp6(4),t.s9C("value",null==e.guest?null:e.guest.phoneNumber))},dependencies:[u.uh,p.mk,p.sg,b.C0,b.VY,b.Vq,b.Ic,b.fd,l._Y,l.JL,l.F],styles:[".phong[_ngcontent-%COMP%]{min-height:70px;font-size:18px;font-weight:600;background:aqua;border-radius:15px;cursor:pointer}.phong.selected[_ngcontent-%COMP%]{background:gold}#soluongphong[_ngcontent-%COMP%]{display:none}"]})}return i})();function D(i,s){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._UZ(6,"input",35),t.qZA()()),2&i){const n=s.$implicit;t.xp6(2),t.Oqu(n.name),t.xp6(2),t.Oqu(n.dailyPrice),t.xp6(2),t.s9C("id",n.roomTypeID),t.s9C("name",n.name)}}function R(i,s){1&i&&(t.TgZ(0,"div",36),t._uU(1," Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng! "),t.qZA())}function J(i,s){1&i&&(t.TgZ(0,"div",36),t._uU(1," Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng! "),t.qZA())}function Y(i,s){1&i&&(t.TgZ(0,"div",36),t._uU(1," Sai \u0111\u1ecbnh \u0111\u1ea1ng "),t.qZA())}function z(i,s){1&i&&(t.TgZ(0,"div",36),t._uU(1," Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng! "),t.qZA())}function Q(i,s){1&i&&(t.TgZ(0,"div",36),t._uU(1," Kh\xf4ng \u0111\u01b0\u1ee3c qu\xe1 10 s\u1ed1 "),t.qZA())}const x=function(i){return{"is-invalid":i}};let $=(()=>{class i{constructor(n,o,e,r,a,c){this.dialogRef=n,this.formBuilder=o,this.roomTypeService=e,this.reservationService=r,this.snkbr=a,this.roomService=c,this.roomtypes=[],this.mangSoLuongPhong=[],this.dateCheckin="",this.dateCheckout="",this.submitted=!1}onNoClick(){this.dialogRef.close()}ngOnInit(){this.FormBooking=this.formBuilder.group({name:["",l.kI.required],email:["",[l.kI.required,l.kI.email]],sodienthoai:["",[l.kI.required,l.kI.maxLength(10)]],yeucau:[""]}),this.roomTypeService.getAllRoomTypes().subscribe(n=>{this.roomtypes=n})}onSubmit(){var n=this;return(0,_.Z)(function*(){if(n.submitted=!0,!n.FormBooking.invalid){if(""==n.dateCheckin||""==n.dateCheckout)return void n.snkbr.openSnackBar("B\u1ea1n ph\u1ea3i nh\u1eadp ng\xe0y \u0111\u1ebfn v\xe0 ng\xe0y \u0111i","failed");{let o=new Date,e=Date.parse(n.dateCheckin),r=Date.parse(n.dateCheckout),a=new Date(e);if(a>=new Date(r))return void n.snkbr.openSnackBar("Ng\xe0y \u0111\u1ebfn ph\u1ea3i nh\u1ecf h\u01a1n ng\xe0y \u0111i \xedt nh\u1ea5t 1 ng\xe0y","failed");if(a<o)return void n.snkbr.openSnackBar("B\u1ea1n ph\u1ea3i \u0111\u1eb7t ph\xf2ng tr\u01b0\u1edbc \xedt nh\u1ea5t 1 ng\xe0y","failed");let m=!1;n.mangSoLuongPhong=[];let d=document.getElementsByClassName("soluongphong");d=[...d];for(let h of d)n.mangSoLuongPhong.push({id:h.id,name:h.name,number:h.value}),h.value>0&&(m=!0);if(!m)return void n.snkbr.openSnackBar("B\u1ea1n ph\u1ea3i ch\u1ecdn s\u1ed1 l\u01b0\u1ee3ng ph\xf2ng","failed");let f={guestFullName:n.FormBooking.value.name,guestPhoneNumber:"+"+n.FormBooking.value.sodienthoai,guestEmail:n.FormBooking.value.email,roomTypeId:"",startTime:n.dateCheckin,endTime:n.dateCheckout,numberOfRooms:0,specialNote:n.FormBooking.value.yeucau},O=!0;for(let h of n.mangSoLuongPhong)0!=h.number&&(f.roomTypeId=h.id,f.numberOfRooms=Number(h.number),(yield n.roomService.getRoomNotServe(f).toPromise()).length<f.numberOfRooms&&(O=!1));if(O)for(let h of n.mangSoLuongPhong)0!=h.number&&(f.roomTypeId=h.id,f.numberOfRooms=Number(h.number),yield n.reservationService.Book(f).toPromise(),n.snkbr.openSnackBar("B\u1ea1n \u0111\xe3 \u0111\u1eb7t ph\xf2ng th\xe0nh c\xf4ng","success"),n.onNoClick());else n.snkbr.openSnackBar("Kh\xe1ch s\u1ea1n kh\xf4ng \u0111\u1ee7 ph\xf2ng","failed")}}})()}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(u.so),t.Y36(l.qu),t.Y36(v.x),t.Y36(C),t.Y36(T.o),t.Y36(M.X))};static#n=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-modal-booking"]],decls:83,vars:18,consts:[[1,"container","pt-3"],["data-wow-delay","0.1s",1,"text-center","wow","fadeInUp"],[1,"section-title","text-center","text-primary","text-uppercase"],[1,"mb-5"],[1,"text-primary","text-uppercase"],["data-wow-delay","0.1s",1,"container-fluid","booking","pb-5","wow","fadeIn"],["action","","method","post"],[1,"container"],[1,"bg-white","shadow",2,"padding","35px"],[1,"row","g-2"],[1,"col-md-12"],[1,"col-md-4"],["id","date1","data-target-input","nearest",1,"date"],["type","date","name","checkin",1,"form-control",3,"ngModel","ngModelChange"],["type","date","name","checkout",1,"form-control",3,"ngModel","ngModelChange"],["type","number","min","1","value","1","name","people",1,"form-control"],[1,"pt-4","row","d-flex"],["id","table",1,"col-6"],[4,"ngFor","ngForOf"],[1,"g-5","col-6"],[1,"col-lg-6","float-end"],["data-wow-delay","0.2s",1,"wow","fadeInUp"],[3,"formGroup","ngSubmit"],[1,"row","g-3"],[1,"form-floating"],["formControlName","name","type","text","id","name","placeholder","Nh\u1eadp h\u1ecd t\xean",1,"form-control",3,"ngClass"],["for","name"],[2,"color","red"],["class","text-danger",4,"ngIf"],["formControlName","email","type","email","id","email","placeholder","Nh\u1eadp email",1,"form-control",3,"ngClass"],["for","email"],["formControlName","sodienthoai","type","number","id","name","placeholder","Nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i",1,"form-control",3,"ngClass"],["formControlName","yeucau","type","text","id","name","placeholder","Y\xeau c\u1ea7u",1,"form-control",2,"height","180px","resize","none"],[1,"col-12"],["type","submit","id","btn",1,"btn","btn-primary","w-100","py-3"],["type","number","min","0","value","0",1,"soluongphong",3,"id","name"],[1,"text-danger"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h6",2),t._uU(3,"Room Booking"),t.qZA(),t.TgZ(4,"h1",3),t._uU(5," Book A "),t.TgZ(6,"span",4),t._uU(7,"Luxury Room"),t.qZA()()(),t.TgZ(8,"div",5)(9,"form",6)(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",9)(15,"div",11)(16,"p"),t._uU(17,"Ng\xe0y \u0111\u1ebfn "),t.qZA(),t._UZ(18,"p"),t.TgZ(19,"div",12)(20,"input",13),t.NdJ("ngModelChange",function(a){return e.dateCheckin=a}),t.qZA()()(),t.TgZ(21,"div",11)(22,"p"),t._uU(23,"Ng\xe0y \u0111i "),t.qZA(),t._UZ(24,"p"),t.TgZ(25,"div",12)(26,"input",14),t.NdJ("ngModelChange",function(a){return e.dateCheckout=a}),t.qZA()()(),t.TgZ(27,"div",11)(28,"p"),t._uU(29,"S\u1ed1 ng\u01b0\u1eddi "),t.qZA(),t._UZ(30,"p"),t.TgZ(31,"div"),t._UZ(32,"input",15),t.qZA()()()()()()(),t.TgZ(33,"div",16)(34,"table",17)(35,"thead")(36,"th"),t._uU(37,"Lo\u1ea1i ph\xf2ng"),t.qZA(),t.TgZ(38,"th"),t._uU(39,"Gi\xe1/\u0110\xeam"),t.qZA(),t.TgZ(40,"th"),t._uU(41,"S\u1ed1 l\u01b0\u1ee3ng ph\xf2ng"),t.qZA()(),t.TgZ(42,"tbody"),t.YNc(43,D,7,4,"tr",18),t.qZA()(),t.TgZ(44,"div",19)(45,"div",20)(46,"div",21)(47,"form",22),t.NdJ("ngSubmit",function(){return e.onSubmit()}),t.TgZ(48,"div",23)(49,"div",10)(50,"div",24),t._UZ(51,"input",25),t.TgZ(52,"label",26),t._uU(53,"H\u1ecd t\xean "),t.TgZ(54,"span",27),t._uU(55,"*"),t.qZA()(),t.YNc(56,R,2,0,"div",28),t.qZA()(),t.TgZ(57,"div",10)(58,"div",24),t._UZ(59,"input",29),t.TgZ(60,"label",30),t._uU(61,"Email "),t.TgZ(62,"span",27),t._uU(63,"*"),t.qZA()(),t.YNc(64,J,2,0,"div",28),t.YNc(65,Y,2,0,"div",28),t.qZA()(),t.TgZ(66,"div",10)(67,"div",24),t._UZ(68,"input",31),t.TgZ(69,"label",26),t._uU(70,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i "),t.TgZ(71,"span",27),t._uU(72,"*"),t.qZA()(),t.YNc(73,z,2,0,"div",28),t.YNc(74,Q,2,0,"div",28),t.qZA()(),t.TgZ(75,"div",10)(76,"div",24),t._UZ(77,"textarea",32),t.TgZ(78,"label",26),t._uU(79,"Y\xeau c\u1ea7u "),t.qZA()()(),t.TgZ(80,"div",33)(81,"button",34),t._uU(82,"Book Now"),t.qZA()()()()()()()()()()()),2&o&&(t.xp6(20),t.Q6J("ngModel",e.dateCheckin),t.xp6(6),t.Q6J("ngModel",e.dateCheckout),t.xp6(17),t.Q6J("ngForOf",e.roomtypes),t.xp6(4),t.Q6J("formGroup",e.FormBooking),t.xp6(4),t.Q6J("ngClass",t.VKq(12,x,e.submitted&&e.FormBooking.controls.name.errors)),t.xp6(5),t.Q6J("ngIf",e.submitted&&e.FormBooking.controls.name.errors),t.xp6(3),t.Q6J("ngClass",t.VKq(14,x,e.submitted&&e.FormBooking.controls.email.errors)),t.xp6(5),t.Q6J("ngIf",e.submitted&&(null==e.FormBooking.controls.email.errors?null:e.FormBooking.controls.email.errors.required)),t.xp6(1),t.Q6J("ngIf",e.submitted&&(null==e.FormBooking.controls.email.errors?null:e.FormBooking.controls.email.errors.email)),t.xp6(3),t.Q6J("ngClass",t.VKq(16,x,e.submitted&&e.FormBooking.controls.sodienthoai.errors)),t.xp6(5),t.Q6J("ngIf",e.submitted&&(null==e.FormBooking.controls.sodienthoai.errors?null:e.FormBooking.controls.sodienthoai.errors.required)),t.xp6(1),t.Q6J("ngIf",e.submitted&&(null==e.FormBooking.controls.sodienthoai.errors?null:e.FormBooking.controls.sodienthoai.errors.maxlength)))},dependencies:[p.mk,p.sg,p.O5,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.sg,l.u,l.On,l.F],styles:["#table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border-top:1px solid #dee2e6;padding:10px 30px}#table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center}"]})}return i})();function G(i,s){if(1&i){const n=t.EpF();t.TgZ(0,"div",2)(1,"div",3)(2,"div",4),t._uU(3),t.qZA(),t.TgZ(4,"div",5)(5,"p"),t._uU(6),t.ALo(7,"date"),t.qZA(),t.TgZ(8,"p"),t._uU(9),t.ALo(10,"date"),t.qZA(),t.TgZ(11,"p"),t._uU(12),t.qZA(),t.TgZ(13,"p"),t._uU(14),t.qZA()(),t.TgZ(15,"div")(16,"button",6),t.NdJ("click",function(){const r=t.CHM(n).$implicit,a=t.oxw();return t.KtG(a.Cancel(r.reservation.reservationID))}),t._uU(17,"Cancel"),t.qZA(),t.TgZ(18,"button",7),t.NdJ("click",function(){const r=t.CHM(n).$implicit,a=t.oxw();return t.KtG(a.openDialogCheckIn(r.reservation.reservationID,r.reservation.guest.id))}),t._uU(19,"View"),t.qZA()()()()}if(2&i){const n=s.$implicit,o=s.index;t.xp6(3),t.hij("#00",o+1,""),t.xp6(3),t.hij("From: ",t.xi3(7,5,n.reservation.startTime,"dd/MM/yyyy"),""),t.xp6(3),t.hij("To: ",t.xi3(10,8,n.reservation.endTime,"dd/MM/yyyy"),""),t.xp6(3),t.hij("",n.number," room"),t.xp6(2),t.hij("Name: ",n.reservation.guest.fullName,"")}}let j=(()=>{class i{constructor(n,o,e){this.reservationService=n,this.dialog=o,this.snkbr=e,this.reservationsWithNumber=[]}ngOnInit(){this.reservationsWithNumber=[],this.reservationService.getAllReservation().subscribe(n=>{this.sapxep(n),(n=n.filter(o=>0==o.isConfirm)).map(o=>{this.reservationService.getNumberReservation(o.reservationID).subscribe(e=>{this.reservationsWithNumber.push({reservation:o,number:e.length})})}),console.log(n)})}sapxep(n){for(let o=0;o<n.length-1;o++)for(let e=o+1;e<n.length;e++)if(new Date(n[o].dateCreated)>new Date(n[e].dateCreated)){let r=n[e];n[e]=n[o],n[o]=r}return n}openDialogCheckIn(n,o){this.dialog.open(E,{width:"80%",height:"80%",data:{id:n,idGuest:o}}).afterClosed().subscribe(r=>{this.reservationsWithNumber=[],this.ngOnInit()})}openDialogBook(){this.dialog.open($,{width:"80%",height:"90%",data:{}}).afterClosed().subscribe(o=>{this.reservationsWithNumber=[],this.ngOnInit()})}Cancel(n){this.reservationService.Cancel(n).subscribe(o=>{this.ngOnInit(),this.snkbr.openSnackBar("Delete reservation successfully","success")})}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(C),t.Y36(u.uw),t.Y36(T.o))};static#n=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-bookroom"]],decls:3,vars:1,consts:[["type","button",1,"btn","btn-primary",2,"margin","8px 24px",3,"click"],["class","container-fluid",4,"ngFor","ngForOf"],[1,"container-fluid"],[1,"card-checkin"],[1,"card-checkin-title","fs-3","fw-bold"],[1,"card-checkin-text"],[1,"btn","btn-danger","col-2","mx-2",3,"click"],[1,"btn","btn-primary","col-2",3,"click"]],template:function(o,e){1&o&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return e.openDialogBook()}),t._uU(1," \u0110\u1eb7t ph\xf2ng\n"),t.qZA(),t.YNc(2,G,20,11,"div",1)),2&o&&(t.xp6(2),t.Q6J("ngForOf",e.reservationsWithNumber))},dependencies:[p.sg,p.uU],styles:[".card-checkin[_ngcontent-%COMP%]{background:white;margin:10px 0;box-shadow:0 5px 40px -10px #00000040;border-radius:5px;padding:10px}"]})}return i})();function H(i,s){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA()()),2&i){const n=s.$implicit;t.xp6(2),t.Oqu(n.name),t.xp6(2),t.Oqu(n.price),t.xp6(2),t.Oqu(n.number),t.xp6(2),t.Oqu(n.priceTotal)}}function L(i,s){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA()()),2&i){const n=s.$implicit;t.xp6(2),t.Oqu(n.name),t.xp6(2),t.Oqu(n.price),t.xp6(2),t.Oqu(n.number),t.xp6(2),t.Oqu(n.priceTotal)}}let X=(()=>{class i{constructor(n,o,e){this.data=n,this.ref=o,this.reservationService=e,this.inputdata=this.data}closeDialog(){this.ref.close()}checkOut(){var n=this;return(0,_.Z)(function*(){yield n.reservationService.checkOut(n.inputdata.reservation.reservationID).toPromise(),n.ref.close("checkout")})()}ngOnInit(){this.date=(new Date).toLocaleString("en-us",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/(\d+)\/(\d+)\/(\d+)/,"$3-$1-$2")}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(u.WI),t.Y36(u.so),t.Y36(C))};static#n=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-modal-bill"]],decls:58,vars:8,consts:[[1,"p-3"],[1,"modal-dialog"],[1,"modal-content"],["type","button","aria-label","Close",1,"btn-close",2,"z-index","100",3,"click"],[1,"modal-body",2,"background-color","#fff"],[1,"header-bill"],[1,"logo-bill"],[1,"title-bill"],[1,"fa-solid","fa-print"],[1,"body-bill"],[1,"name-customer"],[1,"row"],[1,"col","col-lg-6"],[1,"table",2,"margin-top","15px"],["scope","col"],[4,"ngFor","ngForOf"],[1,"total"],[1,"total-value"],[1,"footer-bill"],[1,"mess"],[1,"contact"],[1,"email"],[1,"phone",2,"margin-left","12px"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),t.NdJ("click",function(){return e.closeDialog()}),t.qZA(),t.TgZ(4,"div",4)(5,"div",5)(6,"div",6),t._uU(7,"NEXUS HOTEL"),t.qZA(),t.TgZ(8,"div",7),t._uU(9,"H\xf3a \u0111\u01a1n"),t.qZA(),t.TgZ(10,"div"),t._UZ(11,"i",8),t.qZA()(),t.TgZ(12,"div",9)(13,"span",10),t._uU(14),t.qZA(),t.TgZ(15,"div",11)(16,"div",12)(17,"div"),t._uU(18),t.qZA(),t.TgZ(19,"div"),t._uU(20),t.qZA()(),t.TgZ(21,"div",12)(22,"div"),t._uU(23),t.qZA(),t.TgZ(24,"div"),t._uU(25),t.qZA()()(),t.TgZ(26,"table",13)(27,"thead")(28,"tr")(29,"th",14),t._uU(30,"D\u1ecbch v\u1ee5"),t.qZA(),t.TgZ(31,"th",14),t._uU(32,"Gi\xe1 ti\u1ec1n"),t.qZA(),t.TgZ(33,"th",14),t._uU(34,"S\u1ed1 l\u01b0\u1ee3ng"),t.qZA(),t.TgZ(35,"th",14),t._uU(36,"Th\xe0nh ti\u1ec1n"),t.qZA()()(),t.TgZ(37,"tbody"),t.YNc(38,H,9,4,"tr",15),t.YNc(39,L,9,4,"tr",15),t.qZA()(),t.TgZ(40,"div",16)(41,"span"),t._uU(42,"T\u1ed5ng ti\u1ec1n: "),t.TgZ(43,"span",17),t._uU(44),t.qZA()()(),t.TgZ(45,"div",18)(46,"div",19),t._uU(47,"C\u1ea3m \u01a1n qu\xfd kh\xe1ch!"),t.qZA(),t.TgZ(48,"div",20)(49,"span",21),t._uU(50,"support@gmail.com"),t.qZA(),t.TgZ(51,"span",22),t._uU(52,"0123456789"),t.qZA()()()()(),t.TgZ(53,"div",23)(54,"button",24),t.NdJ("click",function(){return e.closeDialog()}),t._uU(55,"Tho\xe1t"),t.qZA(),t.TgZ(56,"button",25),t.NdJ("click",function(){return e.checkOut()}),t._uU(57,"Xu\u1ea5t h\xf3a \u0111\u01a1n"),t.qZA()()()()()),2&o&&(t.xp6(14),t.Oqu(e.inputdata.guest.fullName),t.xp6(4),t.hij("Ng\xe0y l\u1eadp h\xf3a \u0111\u01a1n: ",e.date,""),t.xp6(2),t.hij("S\u1ed1 h\xf3a \u0111\u01a1n: ",e.inputdata.bill.id,""),t.xp6(3),t.hij("Nh\xe2n vi\xean: ",e.inputdata.userName,""),t.xp6(2),t.hij("S\u1ed1 ng\xe0y: ",e.inputdata.diffDays,""),t.xp6(13),t.Q6J("ngForOf",e.inputdata.guestroom),t.xp6(1),t.Q6J("ngForOf",e.inputdata.guestservice),t.xp6(5),t.Oqu(e.inputdata.bill.sum))},dependencies:[p.sg],styles:[".card__status[_ngcontent-%COMP%]{color:#fff}.dadat[_ngcontent-%COMP%]   .card__status[_ngcontent-%COMP%]{background-color:#b8b4b4}.trong[_ngcontent-%COMP%]   .icon1[_ngcontent-%COMP%], .trong[_ngcontent-%COMP%]   .status1[_ngcontent-%COMP%], .dadat[_ngcontent-%COMP%]   .status2[_ngcontent-%COMP%], .dadat[_ngcontent-%COMP%]   .icon2[_ngcontent-%COMP%]{display:none}.trong[_ngcontent-%COMP%]   .card__status[_ngcontent-%COMP%]{background-color:#65b267}.cards__item[_ngcontent-%COMP%]{display:flex}.card[_ngcontent-%COMP%]{border-radius:.5rem;display:flex;flex-direction:column;overflow:hidden;width:100%}.card__content[_ngcontent-%COMP%]{padding:0 .5rem;background-color:#dad6d6;color:#000}.sb[_ngcontent-%COMP%]{background:#dad6d6}.title[_ngcontent-%COMP%]{font-size:20px;color:#249d9d;font-weight:500}.icon-size[_ngcontent-%COMP%]{font-size:50px;height:50px;width:50px}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(1), .btn-themdv[_ngcontent-%COMP%]{background-color:#65b267;border:#65b267;color:#fff}.cangiua[_ngcontent-%COMP%]{display:flex;align-items:center}.dichvu[_ngcontent-%COMP%]{height:300px;background:white;overflow-y:scroll}.box[_ngcontent-%COMP%]{background-color:#fff;height:300px;padding:10px;overflow-y:scroll}.input-info[_ngcontent-%COMP%]{margin-left:5px;border:none;border-bottom:1px solid;outline:none}form[_ngcontent-%COMP%]   .fa-solid[_ngcontent-%COMP%]{width:17px}.input-phong[_ngcontent-%COMP%]{border:none;border-bottom:1px solid;outline:none}.fa-calendar-days[_ngcontent-%COMP%], .fa-clock[_ngcontent-%COMP%]{margin-right:10px;font-size:17px}.info-phong[_ngcontent-%COMP%]{margin:10px}.info-phong[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:10px}.thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], tfoot[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border-width:unset;text-align:center}.title-modal[_ngcontent-%COMP%]{font-size:2rem;color:#00bfff;font-weight:500;margin-left:50%}.title-body[_ngcontent-%COMP%]{font-size:1.8rem;color:#00bfff;font-weight:500;text-align:center}.form-user[_ngcontent-%COMP%]{padding:20px 160px}.title-table[_ngcontent-%COMP%]{color:#00bfff}.modal-body[_ngcontent-%COMP%], input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{background-color:#ededed}.header-bill[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:15px;align-items:center}.title-bill[_ngcontent-%COMP%]{font-size:2rem;color:#9acd32;font-weight:600}.total[_ngcontent-%COMP%]{text-align:right;border-top:1px solid;border-bottom:1px solid;padding:10px 0}.total-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#333}.name-customer[_ngcontent-%COMP%]{color:#333;font-size:1.5rem;margin-bottom:10px;font-weight:500}.footer-bill[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:8px}.btn-close[_ngcontent-%COMP%]{position:absolute;top:-13px;right:-13px}"]})}return i})();var K=g(880),V=g(2154);let W=(()=>{class i{constructor(n){this.http=n,this.url=P.N.url}getServiceByGuestId(n){return this.http.get(`${this.url}/GuestService/GetGuestServicesByGuestID?id=${n}`)}addGuestService(n){return this.http.post(`${this.url}/GuestService`,n)}static#t=this.\u0275fac=function(o){return new(o||i)(t.LFG(y.eN))};static#n=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var tt=g(6923);let nt=(()=>{class i{constructor(n){this.http=n,this.url=P.N.url}getRoomIdByReservationId(n){return this.http.get(`${this.url}/ReservationRoom/GetReservationsByReservationID?id=${n}`)}static#t=this.\u0275fac=function(o){return new(o||i)(t.LFG(y.eN))};static#n=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var k=g(617);function et(i,s){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA()()),2&i){const n=s.$implicit;t.xp6(2),t.Oqu(n.name),t.xp6(2),t.Oqu(n.number),t.xp6(2),t.Oqu(n.priceTotal)}}function ot(i,s){if(1&i){const n=t.EpF();t.TgZ(0,"div",27)(1,"div",28)(2,"label",29)(3,"b"),t._uU(4),t.qZA(),t._uU(5),t.qZA()(),t.TgZ(6,"div",19)(7,"input",30),t.NdJ("ngModelChange",function(e){const a=t.CHM(n).$implicit;return t.KtG(a.number=e)}),t.qZA()()()}if(2&i){const n=s.$implicit;t.xp6(4),t.hij("",n.name,":"),t.xp6(1),t.hij(" ",n.price,""),t.xp6(2),t.Q6J("ngModel",n.number)}}let it=(()=>{class i{constructor(n,o,e,r,a,c,m,d,f,O){this.data=n,this.ref=o,this.dialog=e,this.serviceService=r,this.userSSVC=a,this.gsService=c,this.billService=m,this.rrService=d,this.roomTypeService=f,this.roomService=O,this.inputdata=this.data,this.guestservice=[],this.guestroom=[]}ngOnInit(){var n=this;return(0,_.Z)(function*(){n.guestservice=[],n.guestroom=[],n.services=yield n.serviceService.getAllServices().toPromise();let o=yield n.gsService.getServiceByGuestId(n.inputdata.guest.guestID).toPromise(),e=yield n.rrService.getRoomIdByReservationId(n.inputdata.reservation.reservationID).toPromise(),r=yield n.roomTypeService.getAllRoomTypes().toPromise();for(let a of n.services)a.number=0;for(let a of r){let c=0;for(let m of e)(yield n.roomService.getRoomById(m.roomID).toPromise()).roomTypeID==a.roomTypeID&&c++;c>0&&n.guestroom?.push({name:a.name,price:a.dailyPrice,number:c,priceTotal:c*a.dailyPrice*n.inputdata.diffDays})}for(let a of o)for(let c of n.services)a.serviceID==c.id&&n.guestservice?.push({name:c.name,number:a.number,price:c.price,priceTotal:c.price*a.number})})()}closeDialog(){this.ref.close()}openBillDialog(){var n=this;return(0,_.Z)(function*(){let o=yield n.billService.getBillByIdGuest(n.inputdata.guest.guestID).toPromise();n.inputdata.bill=o?.find(r=>!r.status),n.inputdata.userName=n.userSSVC.getUserFullName(),n.inputdata.guestservice=n.guestservice,n.inputdata.guestroom=n.guestroom,n.dialog.open(X,{width:"60%",data:n.inputdata}).afterClosed().subscribe(r=>{"checkout"==r&&n.ref.close(r)})})()}themDichVu(){var n=this;return(0,_.Z)(function*(){for(let o of n.services)o.number>0&&(yield n.gsService.addGuestService({guestID:n.inputdata.guest.guestID,serviceID:o.id,number:o.number}).toPromise());n.ngOnInit()})()}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(u.WI),t.Y36(u.so),t.Y36(u.uw),t.Y36(K.m),t.Y36(V.T),t.Y36(W),t.Y36(tt.C),t.Y36(nt),t.Y36(v.x),t.Y36(M.X))};static#n=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-modal-manageroom"]],decls:47,vars:6,consts:[[1,"p-3"],[1,""],[1,"modal-content"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-header"],[1,"modal-body"],[1,"container-fluid","bg-light","p-3"],[1,"row"],[1,"col-4","cangiua"],["aria-hidden","false","aria-label","Example home icon","fontIcon","person"],["aria-hidden","false","aria-label","Example home icon","fontIcon","calendar_month"],["aria-hidden","false","aria-label","Example home icon","fontIcon","today"],[1,"row","pt-5"],[1,"col-6","pr-2"],[1,"dichvu"],[1,"table"],["scope","col"],[1,"table-group-divider"],[4,"ngFor","ngForOf"],[1,"col-6"],[1,"box"],["class","row g-3 align-items-center",4,"ngFor","ngForOf"],[1,"text-end","mt-2"],[1,"btn","btn-themdv",3,"click"],[1,"modal-footer"],["type","button",1,"btn","btn-primary","ms-3",3,"click"],["type","button",1,"btn","btn-secondary","ms-3",3,"click"],[1,"row","g-3","align-items-center"],[1,"col-6","text-center"],["for","",1,"col-form-label"],["type","number","name","service","min","0",1,"form-control",3,"ngModel","ngModelChange"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),t.NdJ("click",function(){return e.closeDialog()}),t.qZA(),t.TgZ(4,"div",4)(5,"h2"),t._uU(6),t.qZA()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),t._UZ(11,"mat-icon",9),t.TgZ(12,"span"),t._uU(13),t.qZA()(),t.TgZ(14,"div",8),t._UZ(15,"mat-icon",10),t.TgZ(16,"span"),t._uU(17),t.qZA()(),t.TgZ(18,"div",8),t._UZ(19,"mat-icon",11),t.TgZ(20,"span"),t._uU(21),t.qZA()()(),t.TgZ(22,"div",12)(23,"div",13)(24,"div",14)(25,"table",15)(26,"thead")(27,"tr")(28,"th",16),t._uU(29,"D\u1ecbch v\u1ee5"),t.qZA(),t.TgZ(30,"th",16),t._uU(31,"S\u1ed1 l\u01b0\u1ee3ng"),t.qZA(),t.TgZ(32,"th",16),t._uU(33,"Th\xe0nh ti\u1ec1n"),t.qZA()()(),t.TgZ(34,"tbody",17),t.YNc(35,et,7,3,"tr",18),t.qZA()()()(),t.TgZ(36,"div",19)(37,"div",20),t.YNc(38,ot,8,3,"div",21),t.qZA(),t.TgZ(39,"div",22)(40,"button",23),t.NdJ("click",function(){return e.themDichVu()}),t._uU(41,"Th\xeam d\u1ecbch v\u1ee5"),t.qZA()()()()()(),t.TgZ(42,"div",24)(43,"button",25),t.NdJ("click",function(){return e.openBillDialog()}),t._uU(44," Thanh to\xe1n "),t.qZA(),t.TgZ(45,"button",26),t.NdJ("click",function(){return e.closeDialog()}),t._uU(46,"Tho\xe1t"),t.qZA()()()()()),2&o&&(t.xp6(6),t.Oqu(e.inputdata.roomNumber),t.xp6(7),t.Oqu(e.inputdata.guest.fullName),t.xp6(4),t.Oqu(e.inputdata.reservation.startTime.slice(0,10)),t.xp6(4),t.Oqu(e.inputdata.diffDays+" ng\xe0y"),t.xp6(14),t.Q6J("ngForOf",e.guestservice),t.xp6(3),t.Q6J("ngForOf",e.services))},dependencies:[p.sg,l.Fj,l.wV,l.JJ,l.qQ,l.On,k.Hw],styles:[".card__status[_ngcontent-%COMP%]{color:#fff}.dadat[_ngcontent-%COMP%]   .card__status[_ngcontent-%COMP%]{background-color:#b8b4b4}.trong[_ngcontent-%COMP%]   .icon1[_ngcontent-%COMP%], .trong[_ngcontent-%COMP%]   .status1[_ngcontent-%COMP%], .dadat[_ngcontent-%COMP%]   .status2[_ngcontent-%COMP%], .dadat[_ngcontent-%COMP%]   .icon2[_ngcontent-%COMP%]{display:none}.trong[_ngcontent-%COMP%]   .card__status[_ngcontent-%COMP%]{background-color:#65b267}.cards__item[_ngcontent-%COMP%]{display:flex}.card[_ngcontent-%COMP%]{border-radius:.5rem;display:flex;flex-direction:column;overflow:hidden;width:100%}.card__content[_ngcontent-%COMP%]{padding:0 .5rem;background-color:#dad6d6;color:#000}.sb[_ngcontent-%COMP%]{background:#dad6d6}.title[_ngcontent-%COMP%]{font-size:20px;color:#249d9d;font-weight:500}.icon-size[_ngcontent-%COMP%]{font-size:50px;height:50px;width:50px}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(1), .btn-themdv[_ngcontent-%COMP%]{background-color:#65b267;border:#65b267;color:#fff}.cangiua[_ngcontent-%COMP%]{display:flex;align-items:center}.dichvu[_ngcontent-%COMP%]{height:300px;background:white;overflow-y:scroll}.box[_ngcontent-%COMP%]{background-color:#fff;height:300px;padding:10px;overflow-y:scroll}.input-info[_ngcontent-%COMP%]{margin-left:5px;border:none;border-bottom:1px solid;outline:none}form[_ngcontent-%COMP%]   .fa-solid[_ngcontent-%COMP%]{width:17px}.input-phong[_ngcontent-%COMP%]{border:none;border-bottom:1px solid;outline:none}.fa-calendar-days[_ngcontent-%COMP%], .fa-clock[_ngcontent-%COMP%]{margin-right:10px;font-size:17px}.info-phong[_ngcontent-%COMP%]{margin:10px}.info-phong[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:10px}.thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], tfoot[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border-width:unset;text-align:center}.title-modal[_ngcontent-%COMP%]{font-size:2rem;color:#00bfff;font-weight:500;margin-left:50%}.title-body[_ngcontent-%COMP%]{font-size:1.8rem;color:#00bfff;font-weight:500;text-align:center}.form-user[_ngcontent-%COMP%]{padding:20px 160px}.title-table[_ngcontent-%COMP%]{color:#00bfff}.modal-body[_ngcontent-%COMP%], input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{background-color:#ededed}.header-bill[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:15px;align-items:center}.title-bill[_ngcontent-%COMP%]{font-size:2rem;color:#9acd32;font-weight:600}.total[_ngcontent-%COMP%]{text-align:right;border-top:1px solid;border-bottom:1px solid;padding:10px 0}.total-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#333}.name-customer[_ngcontent-%COMP%]{color:#333;font-size:1.5rem;margin-bottom:10px;font-weight:500}.footer-bill[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:8px}.btn-close[_ngcontent-%COMP%]{position:absolute;top:-13px;right:-13px}.form-control[_ngcontent-%COMP%]{padding:.2rem .75rem}"]})}return i})();function rt(i,s){1&i&&(t.TgZ(0,"h1"),t._uU(1,"Kh\xf4ng c\xf3 ph\xf2ng"),t.qZA())}function at(i,s){if(1&i){const n=t.EpF();t.TgZ(0,"button",16),t.NdJ("click",function(){const r=t.CHM(n).$implicit,a=t.oxw(2);return t.KtG(a.openRoomDialog(r))}),t.TgZ(1,"div",17)(2,"div",18)(3,"div",19)(4,"div",20)(5,"div",21),t._uU(6),t.qZA(),t.TgZ(7,"div",22),t._uU(8,"Ph\xf2ng \u0111\xe3 \u0111\u1eb7t"),t.qZA(),t.TgZ(9,"div",23),t._uU(10,"Ph\xf2ng tr\u1ed1ng"),t.qZA()(),t.TgZ(11,"div",24)(12,"div",25),t._UZ(13,"mat-icon",26),t.qZA(),t.TgZ(14,"div",27),t._UZ(15,"mat-icon",28),t.qZA(),t.TgZ(16,"div",29),t._uU(17),t.qZA()()(),t.TgZ(18,"div",30)(19,"div",2)(20,"div",31),t._UZ(21,"mat-icon",32),t.TgZ(22,"span"),t._uU(23),t.qZA()(),t.TgZ(24,"div",33),t._UZ(25,"mat-icon",34),t.TgZ(26,"span"),t._uU(27,"\u0110\xe3 d\u1ecdn d\u1eb9p"),t.qZA()()()()()()()}if(2&i){const n=s.$implicit;t.Q6J("disabled",n.isAvaiable),t.xp6(2),t.Q6J("className",n.isAvaiable?"card trong":"card dadat"),t.xp6(4),t.Oqu(n.roomNumber),t.xp6(11),t.Oqu(n.isAvaiable?"Ph\xf2ng tr\u1ed1ng":n.guest.fullName),t.xp6(6),t.Oqu(n.isAvaiable?"0 ng\xe0y":n.diffDays+" ng\xe0y")}}function ct(i,s){if(1&i&&(t.TgZ(0,"div")(1,"div",13),t._uU(2),t.qZA(),t.TgZ(3,"div",2),t.YNc(4,rt,2,0,"h1",14),t.YNc(5,at,28,5,"button",15),t.qZA()()),2&i){const n=s.$implicit;t.xp6(2),t.Oqu(n.roomType.name),t.xp6(2),t.Q6J("ngIf",!n.rooms.length),t.xp6(1),t.Q6J("ngForOf",n.rooms)}}let lt=(()=>{class i{change(){this.ngOnInit()}constructor(n,o,e,r,a){this.roomTypeService=n,this.roomService=o,this.guestService=e,this.reservationService=r,this.dialog=a,this.roomsByRoomType=[],this.check="all"}openRoomDialog(n){this.dialog.open(it,{width:"80%",data:n}).afterClosed().subscribe(e=>{"checkout"==e&&this.ngOnInit()})}ngOnInit(){var n=this;return(0,_.Z)(function*(){n.roomsByRoomType=[];let o=yield n.roomTypeService.getAllRoomTypes().toPromise();for(let e of o){let r=yield n.roomService.getRoomsByRoomTypeId(e.roomTypeID).toPromise();"available"==n.check?r=r?.filter(c=>c.isAvaiable):"unavailable"==n.check&&(r=r?.filter(c=>!c.isAvaiable));for(let c of r)if(c.isAvaiable)c.guest=null,c.reservation=null;else{c.guest=yield n.guestService.getGuestByRoomId(c.roomID).toPromise(),c.reservation=yield n.reservationService.getReservationByRoomId(c.roomID).toPromise();let m=new Date(c.reservation.endTime),d=new Date(c.reservation.startTime);c.diffDays=Math.ceil(m.getTime()-d.getTime())/864e5}let a={roomType:e,rooms:r};n.roomsByRoomType?.push(a)}})()}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(v.x),t.Y36(M.X),t.Y36(U.Q),t.Y36(C),t.Y36(u.uw))};static#n=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-manageroom"]],decls:21,vars:4,consts:[[1,"container-fluid","p-0"],[1,"container-fluid","sb"],[1,"row"],[1,"col-2","title"],[1,"col-10"],[1,"row","h-100"],[1,"form-check","col-4","my-auto"],["type","radio","name","trangthaiphong","value","available",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexRadioDefault1",1,"form-check-label"],["type","radio","name","trangthaiphong","value","unavailable",1,"form-check-input",3,"ngModel","ngModelChange"],["type","radio","name","trangthaiphong","value","all",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"container-fluid","p-3"],[4,"ngFor","ngForOf"],[1,"title","my-3"],[4,"ngIf"],["style","border: none;","class"," btn col-lg-3 col-md-4 col-sm-6 p-2",3,"disabled","click",4,"ngFor","ngForOf"],[1,"btn","col-lg-3","col-md-4","col-sm-6","p-2",2,"border","none",3,"disabled","click"],[1,"cards__item"],[3,"className"],[1,"p-0","card__status"],[1,"row","m-0"],[1,"col-6","text-start","fw-bold"],[1,"col-6","text-end","status1"],[1,"col-6","text-end","status2"],[1,"row","m-0","pt-3"],[1,"col-3","p-0","icon1"],["aria-hidden","false","aria-label","Example home icon","fontIcon","person",1,"icon-size"],[1,"col-3","p-0","icon2"],["aria-hidden","false","aria-label","Example home icon","fontIcon","check_circle",1,"icon-size"],[1,"col-9","my-auto","fs-5","text-center","fw-bold"],[1,"card__content"],[1,"col-6","cangiua"],["aria-hidden","false","aria-label","Example home icon","fontIcon","calendar_month"],[1,"col-6","cangiua","text-end"],["aria-hidden","false","aria-label","Example home icon","fontIcon","done"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._uU(4,"Tr\u1ea1ng th\xe1i"),t.qZA(),t.TgZ(5,"div",4)(6,"div",5)(7,"div",6)(8,"input",7),t.NdJ("ngModelChange",function(a){return e.check=a})("ngModelChange",function(){return e.change()}),t.qZA(),t.TgZ(9,"label",8),t._uU(10," Ph\xf2ng tr\u1ed1ng "),t.qZA()(),t.TgZ(11,"div",6)(12,"input",9),t.NdJ("ngModelChange",function(a){return e.check=a})("ngModelChange",function(){return e.change()}),t.qZA(),t.TgZ(13,"label",8),t._uU(14," Ph\xf2ng \u0111ang thu\xea "),t.qZA()(),t.TgZ(15,"div",6)(16,"input",10),t.NdJ("ngModelChange",function(a){return e.check=a})("ngModelChange",function(){return e.change()}),t.qZA(),t.TgZ(17,"label",8),t._uU(18," T\u1ea5t c\u1ea3 ph\xf2ng "),t.qZA()()()()()(),t.TgZ(19,"div",11),t.YNc(20,ct,6,3,"div",12),t.qZA()()),2&o&&(t.xp6(8),t.Q6J("ngModel",e.check),t.xp6(4),t.Q6J("ngModel",e.check),t.xp6(4),t.Q6J("ngModel",e.check),t.xp6(4),t.Q6J("ngForOf",e.roomsByRoomType))},dependencies:[p.sg,p.O5,l.Fj,l._,l.JJ,l.On,k.Hw],styles:[".card__status[_ngcontent-%COMP%]{color:#fff}.dadat[_ngcontent-%COMP%]   .card__status[_ngcontent-%COMP%]{background-color:#b8b4b4}.trong[_ngcontent-%COMP%]   .icon1[_ngcontent-%COMP%], .trong[_ngcontent-%COMP%]   .status1[_ngcontent-%COMP%], .dadat[_ngcontent-%COMP%]   .status2[_ngcontent-%COMP%], .dadat[_ngcontent-%COMP%]   .icon2[_ngcontent-%COMP%]{display:none}.trong[_ngcontent-%COMP%]   .card__status[_ngcontent-%COMP%]{background-color:#65b267}.cards__item[_ngcontent-%COMP%]{display:flex}.card[_ngcontent-%COMP%]{border-radius:.5rem;display:flex;flex-direction:column;overflow:hidden;width:100%}.card__content[_ngcontent-%COMP%]{padding:0 .5rem;background-color:#dad6d6;color:#000}.sb[_ngcontent-%COMP%]{background:#dad6d6}.title[_ngcontent-%COMP%]{font-size:20px;color:#249d9d;font-weight:500}.icon-size[_ngcontent-%COMP%]{font-size:50px;height:50px;width:50px}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(1), .modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(2), .btn-themdv[_ngcontent-%COMP%]{background-color:#65b267;border:#65b267;color:#fff}.cangiua[_ngcontent-%COMP%]{display:flex;align-items:center}.dichvu[_ngcontent-%COMP%]{height:300px;background:white;overflow-y:scroll}.box[_ngcontent-%COMP%]{background-color:#fff;height:300px;padding:10px}.input-info[_ngcontent-%COMP%]{margin-left:5px;border:none;border-bottom:1px solid;outline:none}form[_ngcontent-%COMP%]   .fa-solid[_ngcontent-%COMP%]{width:17px}.input-phong[_ngcontent-%COMP%]{border:none;border-bottom:1px solid;outline:none}.fa-calendar-days[_ngcontent-%COMP%], .fa-clock[_ngcontent-%COMP%]{margin-right:10px;font-size:17px}.info-phong[_ngcontent-%COMP%]{margin:10px}.info-phong[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:10px}.thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], tfoot[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border-width:unset;text-align:center}.title-modal[_ngcontent-%COMP%]{font-size:2rem;color:#00bfff;font-weight:500;margin-left:50%}.title-body[_ngcontent-%COMP%]{font-size:1.8rem;color:#00bfff;font-weight:500;text-align:center}.form-user[_ngcontent-%COMP%]{padding:20px 160px}.title-table[_ngcontent-%COMP%]{color:#00bfff}.modal-body[_ngcontent-%COMP%], input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{background-color:#ededed}.header-bill[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:15px;align-items:center}.title-bill[_ngcontent-%COMP%]{font-size:2rem;color:#9acd32;font-weight:600}.total[_ngcontent-%COMP%]{text-align:right;border-top:1px solid;border-bottom:1px solid;padding:10px 0}.total-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#333}.name-customer[_ngcontent-%COMP%]{color:#333;font-size:1.5rem;margin-bottom:10px;font-weight:500}.footer-bill[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:8px}.container-fluid.sb[_ngcontent-%COMP%]{margin-top:50px}button[_ngcontent-%COMP%]:disabled{opacity:1}"]})}return i})();const st=["manageTab"],gt=["checkinTab"],dt=[{path:"",children:[{path:"",component:(()=>{class i{tabChanged(n){0===n?(this.manageTab.roomsByRoomType=[],this.manageTab.ngOnInit()):1===n&&(this.checkinTab.reservationsWithNumber=[],this.checkinTab.ngOnInit())}static#t=this.\u0275fac=function(o){return new(o||i)};static#n=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-hotelmanage"]],viewQuery:function(o,e){if(1&o&&(t.Gf(st,5),t.Gf(gt,5)),2&o){let r;t.iGM(r=t.CRH())&&(e.manageTab=r.first),t.iGM(r=t.CRH())&&(e.checkinTab=r.first)}},decls:7,vars:0,consts:[["mat-stretch-tabs","false","mat-align-tabs","start",3,"selectedIndexChange"],["label","Manage"],["manageTab",""],["label","Check - in"],["checkinTab",""]],template:function(o,e){1&o&&(t.TgZ(0,"mat-tab-group",0),t.NdJ("selectedIndexChange",function(a){return e.tabChanged(a)}),t.TgZ(1,"mat-tab",1),t._UZ(2,"app-manageroom",null,2),t.qZA(),t.TgZ(4,"mat-tab",3),t._UZ(5,"app-bookroom",null,4),t.qZA()())},dependencies:[Z.uX,Z.SP,j,lt],styles:[".card__status[_ngcontent-%COMP%]{color:#fff}.dadat[_ngcontent-%COMP%]   .card__status[_ngcontent-%COMP%]{background-color:#b8b4b4}.trong[_ngcontent-%COMP%]   .icon1[_ngcontent-%COMP%], .trong[_ngcontent-%COMP%]   .status1[_ngcontent-%COMP%], .dadat[_ngcontent-%COMP%]   .status2[_ngcontent-%COMP%], .dadat[_ngcontent-%COMP%]   .icon2[_ngcontent-%COMP%]{display:none}.trong[_ngcontent-%COMP%]   .card__status[_ngcontent-%COMP%]{background-color:#65b267}.cards__item[_ngcontent-%COMP%]{display:flex}.card[_ngcontent-%COMP%]{border-radius:.5rem;display:flex;flex-direction:column;overflow:hidden;width:100%}.card__content[_ngcontent-%COMP%]{padding:0 .5rem;background-color:#dad6d6;color:#000}.sb[_ngcontent-%COMP%]{background:#dad6d6}.title[_ngcontent-%COMP%]{font-size:20px;color:#249d9d;font-weight:500}.icon-size[_ngcontent-%COMP%]{font-size:50px;height:50px;width:50px}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(1), .btn-themdv[_ngcontent-%COMP%]{background-color:#65b267;border:#65b267;color:#fff}.cangiua[_ngcontent-%COMP%]{display:flex;align-items:center}.dichvu[_ngcontent-%COMP%]{height:300px;background:white;overflow-y:scroll}.box[_ngcontent-%COMP%]{background-color:#fff;height:300px;padding:10px;overflow-y:scroll}.input-info[_ngcontent-%COMP%]{margin-left:5px;border:none;border-bottom:1px solid;outline:none}form[_ngcontent-%COMP%]   .fa-solid[_ngcontent-%COMP%]{width:17px}.input-phong[_ngcontent-%COMP%]{border:none;border-bottom:1px solid;outline:none}.fa-calendar-days[_ngcontent-%COMP%], .fa-clock[_ngcontent-%COMP%]{margin-right:10px;font-size:17px}.info-phong[_ngcontent-%COMP%]{margin:10px}.info-phong[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:10px}.thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], tfoot[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border-width:unset;text-align:center}.title-modal[_ngcontent-%COMP%]{font-size:2rem;color:#00bfff;font-weight:500;margin-left:50%}.title-body[_ngcontent-%COMP%]{font-size:1.8rem;color:#00bfff;font-weight:500;text-align:center}.form-user[_ngcontent-%COMP%]{padding:20px 160px}.title-table[_ngcontent-%COMP%]{color:#00bfff}.modal-body[_ngcontent-%COMP%], input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{background-color:#ededed}.header-bill[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:15px;align-items:center}.title-bill[_ngcontent-%COMP%]{font-size:2rem;color:#9acd32;font-weight:600}.total[_ngcontent-%COMP%]{text-align:right;border-top:1px solid;border-bottom:1px solid;padding:10px 0}.total-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#333}.name-customer[_ngcontent-%COMP%]{color:#333;font-size:1.5rem;margin-bottom:10px;font-weight:500}.footer-bill[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:8px}.btn-close[_ngcontent-%COMP%]{position:absolute;top:-13px;right:-13px}"]})}return i})()},{path:"checkin",component:E}]}];let ut=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#n=this.\u0275mod=t.oAB({type:i});static#e=this.\u0275inj=t.cJS({imports:[q.Bz.forChild(dt),q.Bz]})}return i})(),pt=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#n=this.\u0275mod=t.oAB({type:i});static#e=this.\u0275inj=t.cJS({imports:[u.Is,p.ez,ut,Z.Nh,b.T5,l.UX,l.u5,k.Ps]})}return i})()}}]);